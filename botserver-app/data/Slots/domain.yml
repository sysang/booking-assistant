version: "3.1"

slots:
  botmind_state:
    type: categorical
    mappings:
      - type: custom
    influence_conversation: true
    initial_value: attentive
    values:
      - transitioning
      - thinking
      - prime_boostX1
      - prime_boostX2
      - attentive
  botmind_context:
    type: categorical
    mappings:
      - type: custom
    influence_conversation: true
    initial_value: idle
    values:
      - idle
      - workingonbooking
      - chitchat #  in waiting user's request
  botmemo_booking_progress:  # working memory
    type: categorical
    mappings:
      - type: custom
        action: bot_determines_botmemo_booking_progress
    influence_conversation: true
    initial_value: null
    values:
      - initialized
      - information_collecting
      - done_information_collecting
      - room_showing
      - room_selected
      - information_revising
  botmemo_booking_failure:
    type: categorical
    mappings:
      - type: custom
    influence_conversation: true
    initial_value: null
    values:
      - missing_booking_info
      - missing_room_id
  bkinfo_room_id:
    influence_conversation: true
    type: float
    mappings:
      - type: from_entity
        intent: user_click_to_select_hotel
        entity: room_id
  bkinfo_area:
    influence_conversation: false
    type: text
    mappings:
      - type: from_entity
        intent: express_area
        entity: area
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_area
      - type: from_entity
        intent: request_listing_hotel_by_area
        entity: area
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_area
      - type: from_entity
        intent: request_listing_hotel_by_area+request_checkin_time
        entity: area
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_area
  bkinfo_checkin_time:
    influence_conversation: false
    type: text
    mappings:
      - type: from_entity
        intent: express_time
        entity: time
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_checkin_time
      - type: from_entity
        intent: request_checkin_time
        entity: time
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_checkin_time
      - type: from_entity
        intent: request_listing_hotel_by_area+request_checkin_time
        entity: time
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_checkin_time
      - type: from_entity
        intent: request_checkin_time+request_room_reservation_duration
        entity: time
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_checkin_time
  bkinfo_duration:
    influence_conversation: false
    type: text  # unit: day
    mappings:
      - type: from_entity
        intent: express_length_of_time
        entity: duration
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_duration
      - type: from_entity
        intent: request_room_reservation_duration
        entity: duration
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_duration
      - type: from_entity
        intent: request_checkin_time+request_room_reservation_duration
        entity: duration
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_duration
  bkinfo_bed_type:
    influence_conversation: false
    type: text
    mappings:
      - type: from_entity
        intent: express_bed_type
        entity: bed_type
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_bed_type
      - type: from_entity
        intent: request_bed_type
        entity: bed_type
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_bed_type
      - type: from_entity
        intent: request_bed_type
        entity: bed_type
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_bed_type
  bkinfo_price:
    influence_conversation: false
    type: text
    mappings:
      - type: from_entity
        intent: express_mountof_money
        entity: amount-of-money
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_price
      - type: from_entity
        intent: express_expected_mountof_money
        entity: amount-of-money
        conditions:
        - active_loop: bkinfo_form
          requested_slot: bkinfo_price
  bkinfo_area_revised:
    influence_conversation: false
    type: text
    mappings:
      - type: from_entity
        intent: revise_area
        entity: area
  bkinfo_checkin_time_revised:
    influence_conversation: false
    type: text
    mappings:
      - type: from_entity
        intent: revise_checkin_time
        entity: time
  bkinfo_duration_revised:
    influence_conversation: false
    type: text  # unit: day
    mappings:
      - type: from_entity
        intent: revise_room_reservation_duration
        entity: duration
  bkinfo_bed_type_revised:
    influence_conversation: false
    type: text
    mappings:
      - type: from_entity
        intent: revise_bed_type
        entity: bed_type
  bkinfo_price_revised:
    influence_conversation: false
    type: text
    mappings:
      - type: from_entity
        intent: revise_price
        entity: amount-of-money
  logs_debugging_info:
    type: list
    mappings:
      - type: custom
    influence_conversation: false
    initial_value: []
  search_result_flag:
    type: categorical
    mappings:
      - type: custom
    influence_conversation: true
    initial_value: null
    values:
      - waiting
      - available
  logs_fallback_loop_history:
    type: list
    mappings:
      - type: custom
    influence_conversation: false
    initial_value: []
  botmind_name:
    type: text
    mappings:
      - type: custom
    influence_conversation: false
    initial_value: Badge
  old:
    type: any
    influence_conversation: false
    mappings:
      - type: custom
        action: action_old_slot_mapping
    initial_value: null
  botmemo_bkinfo_status:
    type: addons.custom_slot_types.BkinfoStatus
    influence_conversation: true
    mappings:
      - type: custom
        action: action_bkinfo_status_slot_mapping
    initial_value: null
  notes_bkinfo:
    type: any
    influence_conversation: false
    mappings:
      - type: custom
    initial_value: null
  notes_search_result:
    type: any
    influence_conversation: false
    mappings:
      - type: custom
    initial_value: null

