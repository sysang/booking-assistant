version: "2.0"

stories:
- story: when information has been collected completely, user wants to revise area
  steps:
  - slot_was_set:
    - botmind_state: attentive
    - botmind_context: workingonbooking
    - botmemo_booking_progress: done_information_collecting
    - bkinfo_area_flag: noted
    - bkinfo_checkin_time_flag: noted
    - bkinfo_duration_flag: noted
    - bkinfo_bed_type_flag: noted
    - bkinfo_room_id_flag: empty
    - search_result_flag: available
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - intent: revise_area
    entities:
      - area: hawaii
  - action: revise_booking_information__area__
  - slot_was_set:
    - botmemo_booking_progress: done_information_collecting
    - bkinfo_area_flag: present
    - bkinfo_checkin_time_flag: present
    - bkinfo_duration_flag: present
    - bkinfo_bed_type_flag: present
  - action: set_notes_bkinfo
  - slot_was_set:
    - bkinfo_area_flag: noted
    - bkinfo_checkin_time_flag: noted
    - bkinfo_duration_flag: noted
    - bkinfo_bed_type_flag: noted
    - search_result_flag: available

- story: when information has been collected completely, user wants to revise check-in time
  steps:
  - slot_was_set:
    - botmind_state: attentive
    - botmind_context: workingonbooking
    - botmemo_booking_progress: done_information_collecting
    - bkinfo_area_flag: noted
    - bkinfo_checkin_time_flag: noted
    - bkinfo_duration_flag: noted
    - bkinfo_bed_type_flag: noted
    - bkinfo_room_id_flag: empty
    - search_result_flag: available
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - intent: revise_checkin_time
    entities:
      - date: september 5th
  - action: revise_booking_information__checkin_time__
  - slot_was_set:
    - botmemo_booking_progress: done_information_collecting
    - bkinfo_area_flag: present
    - bkinfo_checkin_time_flag: present
    - bkinfo_duration_flag: present
    - bkinfo_bed_type_flag: present
  - action: set_notes_bkinfo
  - slot_was_set:
    - bkinfo_area_flag: noted
    - bkinfo_checkin_time_flag: noted
    - bkinfo_duration_flag: noted
    - bkinfo_bed_type_flag: noted
    - search_result_flag: notfound

- story: when information has been collected completely, user wants to revise reservation duration
  steps:
  - slot_was_set:
    - botmind_state: attentive
    - botmind_context: workingonbooking
    - botmemo_booking_progress: done_information_collecting
    - bkinfo_area_flag: noted
    - bkinfo_checkin_time_flag: noted
    - bkinfo_duration_flag: noted
    - bkinfo_bed_type_flag: noted
    - bkinfo_room_id_flag: empty
    - search_result_flag: available
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - intent: revise_room_reservation_duration
    entities:
      - duration: 1 day
  - action: revise_booking_information__duration__
  - slot_was_set:
    - botmemo_booking_progress: done_information_collecting
    - bkinfo_area_flag: present
    - bkinfo_checkin_time_flag: present
    - bkinfo_duration_flag: present
    - bkinfo_bed_type_flag: present
  - action: set_notes_bkinfo
  - slot_was_set:
    - bkinfo_area_flag: noted
    - bkinfo_checkin_time_flag: noted
    - bkinfo_duration_flag: noted
    - bkinfo_bed_type_flag: noted
    - search_result_flag: available

- story: when information has been collected completely, user wants to revise room type
  steps:
  - slot_was_set:
    - botmind_state: attentive
    - botmind_context: workingonbooking
    - botmemo_booking_progress: done_information_collecting
    - bkinfo_area_flag: noted
    - bkinfo_checkin_time_flag: noted
    - bkinfo_duration_flag: noted
    - bkinfo_bed_type_flag: noted
    - bkinfo_room_id_flag: empty
    - search_result_flag: available
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - intent: revise_bed_type
    entities:
      - bed_type: double
  - action: revise_booking_information__bed_type__
  - slot_was_set:
    - botmemo_booking_progress: done_information_collecting
    - bkinfo_area_flag: present
    - bkinfo_checkin_time_flag: present
    - bkinfo_duration_flag: present
    - bkinfo_bed_type_flag: present
  - action: set_notes_bkinfo
  - slot_was_set:
    - bkinfo_area_flag: noted
    - bkinfo_checkin_time_flag: noted
    - bkinfo_duration_flag: noted
    - bkinfo_bed_type_flag: noted
    - search_result_flag: notfound

