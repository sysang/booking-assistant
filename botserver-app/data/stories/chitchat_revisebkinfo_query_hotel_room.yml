version: "3.1"
stories:
- story: when information has been collected completely, bkinfo_area
  steps:
  - checkpoint: checkpoint_done_information_collecting
  - action: bot_search_hotel_rooms
  - slot_was_set:
    - search_result_flag: notfound
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - action: utter_asking_revise_booking_information
  - intent: revise_area
    entities:
    - area: hawaii
  - slot_was_set:
    - botmemo_bkinfo_status: ['bkinfo_area', 'bkinfo_checkin_time', 'bkinfo_duration', 'bkinfo_bed_type', 'bkinfo_price']
  - action: botacts_utter_revised_bkinfo
  - action: bot_relieves_imposition_to_think

- story: when information has been collected completely, bkinfo_checkin_time
  steps:
  - checkpoint: checkpoint_done_information_collecting
  - action: bot_search_hotel_rooms
  - slot_was_set:
    - search_result_flag: available
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - intent: revise_checkin_time
    entities:
    - time: '2022-09-05T00:00:00.000-07:00'
  - slot_was_set:
    - botmemo_bkinfo_status: ['bkinfo_area', 'bkinfo_checkin_time', 'bkinfo_duration', 'bkinfo_bed_type', 'bkinfo_price']
  - action: botacts_utter_revised_bkinfo
  - action: bot_relieves_imposition_to_think

- story: when information has been collected completely, bkinfo_duration
  steps:
  - checkpoint: checkpoint_done_information_collecting
  - action: bot_search_hotel_rooms
  - slot_was_set:
    - search_result_flag: notfound
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - action: utter_asking_revise_booking_information
  - intent: revise_room_reservation_duration
    entities:
    - duration: 3
  - slot_was_set:
    - botmemo_bkinfo_status: ['bkinfo_area', 'bkinfo_checkin_time', 'bkinfo_duration', 'bkinfo_bed_type', 'bkinfo_price']
  - action: botacts_utter_revised_bkinfo
  - action: bot_relieves_imposition_to_think

- story: when information has been collected completely, bkinfo_bed_type
  steps:
  - checkpoint: checkpoint_done_information_collecting
  - action: bot_search_hotel_rooms
  - slot_was_set:
    - search_result_flag: available
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - intent: revise_bed_type
    entities:
    - bed_type: single
  - slot_was_set:
    - botmemo_bkinfo_status: ['bkinfo_area', 'bkinfo_checkin_time', 'bkinfo_duration', 'bkinfo_bed_type', 'bkinfo_price']
  - action: botacts_utter_revised_bkinfo
  - action: bot_relieves_imposition_to_think

- story: when information has been collected completely, bkinfo_price
  steps:
  - checkpoint: checkpoint_done_information_collecting
  - action: bot_search_hotel_rooms
  - slot_was_set:
    - search_result_flag: notfound
  - action: botacts_show_room_list
  - slot_was_set:
    - botmemo_booking_progress: room_showing
  - action: utter_asking_revise_booking_information
  - intent: revise_price
    entities:
    - amount-of-money: 200 USD
  - slot_was_set:
    - botmemo_bkinfo_status: ['bkinfo_area', 'bkinfo_checkin_time', 'bkinfo_duration', 'bkinfo_bed_type', 'bkinfo_price']
  - action: botacts_utter_revised_bkinfo
  - action: bot_relieves_imposition_to_think
