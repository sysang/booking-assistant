version: "2.0"

config:
  store_entities_as_slots: false
session_config:
  session_expiration_time: 480
  carry_over_slots_to_new_session: true

intents:
  - request_listing_hotel_by_area
  - express_checkin_time
  - express_room_reservation_duration
  - user_click_to_select_hotel
  - express_date
  - express_length_of_time
  - express_room_type

entities:
  - hotel
  - room_id
  - city
  - area
  - date
  - duration
  - room_type

slots:
  bkinfo_room_id:
    type: float
    influence_conversation: true
  bkinfo_area:
    type: text
    influence_conversation: true
  bkinfo_checkin_time:
    type: text
    influence_conversation: true
  bkinfo_duration:
    type: float  # unit: day
    influence_conversation: true
  bkinfo_room_type:
    type: text
    influence_conversation: true
  booking_state:
    type: categorical
    initial_value: init
    values:
      - init
      - information_collecting
      - done_collecting_information
      - hotel_selected

responses:
  utter_asking_area:
    - text: "What area would you like to stay in?"
    - text: "What area are you interested in?"
  utter_asking_alternative_area:
    - text: "Would you like for me to look in another area?"
  utter_asking_checkin_time:
    - text: "When will you need the accommodations?"
    - text: "what is the exact date of your arrival?"
    - text: "what day would you like to stay on?"
  utter_asking_staying_duration:
    - text: "How long will you be staying?"
  utter_asking_room_type:
    - text: "Which room type would you like?"
  utter_about_to_show_hotel_list:
    - text: "We found these rooms for you: "
  utter_room_not_available:
    - text: "I'm not finding anything matching your query."
    - text: "I'm sorry but we have no hotels meeting your criteria."
    - text: "I'm so sorry, but I couldn't find anything fitting your specifications."
  utter_room_selection:
    - text: "I will book you a {room_type} room in {duration}, checkin at {checkin_time}, {hotel_name}."

actions:
  - set_booking_state__information_collecting__
  - set_booking_state__done_collecting_information__
  - set_booking_information__area__
  - set_booking_information__checkin_time__
  - set_booking_information__duration__
  - set_booking_information__room_type__
  - set_booking_information__room_id__
  - bot_show_hotel_list
  - confirm_room_selection

